# Copy to `.env` and paste your real key here.
OPENAI_API_KEY=sk-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
# Optional: base URL for the photo-filter API providing people tags
# Defaults to http://localhost:3000 when unset
# PHOTO_FILTER_API_BASE=http://localhost:3000

# Minutes length = [ceil(1.5 * base), ceil(2.5 * base)], where base = max(#curators, #photos)
PHOTO_SELECT_MINUTES_FACTOR_MIN=1.5
PHOTO_SELECT_MINUTES_FACTOR_MAX=2.5

# Small batch rule-of-thumb (go stricter on compliance)
PHOTO_SELECT_SMALL_BATCH_THRESHOLD=10

# “zero decision” tolerance
PHOTO_SELECT_ZERO_DECISION_MAX_STREAK_SMALL=1
PHOTO_SELECT_ZERO_DECISION_MAX_STREAK_LARGE=2

# Networking
PHOTO_SELECT_HTTP_DRIVER=undici          # use tuned Undici dispatcher
PHOTO_SELECT_TIMEOUT_MS=900000           # 15 min
PHOTO_SELECT_MAX_RETRIES=8
PHOTO_SELECT_RETRY_BASE_MS=1500          # exponential backoff base
PHOTO_SELECT_MAX_CONCURRENT=6            # cap in-flight requests
# NODE_OPTIONS="--dns-result-order=ipv4first --max-old-space-size=32768"

# Autoscaling knobs (computed from --workers; see README)
# PHOTO_SELECT_MAX_SOCKETS=8
# PHOTO_SELECT_MAX_FREE_SOCKETS=4
# PHOTO_SELECT_KEEPALIVE_MS=10000
# PHOTO_SELECT_FREE_SOCKET_TIMEOUT_MS=60000
# UV_THREADPOOL_SIZE=12
# PHOTO_SELECT_BATCH_SIZE=8       # hard-capped at 10 for vision LLMs
# PHOTO_SELECT_PEOPLE_CONCURRENCY=2
# PHOTO_SELECT_BUMP_TOKENS=4000
# PHOTO_SELECT_TPM_SOFT_CAP=4000000     # tokens/min (optional global cap)
# PHOTO_SELECT_RPM_SOFT_CAP=900         # requests/min (optional global cap)
